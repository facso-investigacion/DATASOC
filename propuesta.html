<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dirección de Investigación y Publicaciones">
<meta name="dcterms.date" content="2025-09-04">

<title>Propuesta DATASOC</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="propuesta_files/libs/clipboard/clipboard.min.js"></script>
<script src="propuesta_files/libs/quarto-html/quarto.js"></script>
<script src="propuesta_files/libs/quarto-html/popper.min.js"></script>
<script src="propuesta_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="propuesta_files/libs/quarto-html/anchor.min.js"></script>
<link href="propuesta_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="propuesta_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="propuesta_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="propuesta_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="propuesta_files/libs/bootstrap/bootstrap-1bc8a17f135ab3d594c857e9f48e611b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Propuesta DATASOC</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Dirección de Investigación y Publicaciones </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 4, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introducción" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="introducción"><span class="header-section-number">1</span> Introducción</h2>
<p>En los últimos años, la Facultad de Ciencias Sociales ha buscado posicionarse como un centro de generación de conocimiento basado en investigación social de relevancia nacional e internacional. Para ello, se han definido políticas orientadas a aumentar el impacto del conocimiento construido desde nuestra Facultad, destacando nuestra capacidad para contribuir a los desafíos del país.</p>
<p>Pese a esto, la Facultad aún enfrenta dificultades para lograr este objetivo, tales como:</p>
<p><strong>a) Falencias en la implementación de una gobernanza de datos efectiva</strong></p>
<p>Aunque existen iniciativas puntuales, la gobernanza de datos no se ha establecido como un objetivo estratégico. En términos generales, se observa una alta fragmentación de los sistemas de información, sin definición clara de roles, estándares y buenas prácticas comunes.</p>
<p>En el ámbito de la investigación, la ausencia de lineamientos para la gestión de datos limita la generación de reportes periódicos sobre el estado de la investigación y, en consecuencia, dificulta la visibilización de los logros institucionales.</p>
<p><strong>b) Limitaciones institucionales para el impacto y la transferencia de conocimientos a la sociedad</strong></p>
<p>Más allá de la gobernanza de datos, existe una indefinición institucional respecto de qué entendemos por <em>impacto</em> y cómo medirlo. En particular, se carece de un canal que facilite sistemáticamente la transferencia del conocimiento hacia la sociedad civil y los tomadores de decisiones.</p>
<p><strong>c) Poca preparación para nuevos desafíos científicos y tecnológicos</strong></p>
<p>Las ciencias sociales computacionales han crecido aceleradamente en los últimos años, impulsadas por desarrollos en inteligencia artificial, <em>machine learning</em>, análisis de <em>big data</em> y procesamiento de lenguaje natural.</p>
<p>Al mismo tiempo, las ciencias sociales enfrentan retos vinculados con la apertura y la transparencia del trabajo investigativo, evidenciados en la llamada crisis de replicación. En respuesta, cobra creciente importancia la incorporación de principios de ciencia abierta.</p>
<p>Pese a iniciativas aisladas, la Facultad no cuenta con un espacio que, de forma sistemática, reflexione, investigue y acompañe la adopción de estas herramientas en el quehacer académico.</p>
<p>En este contexto, proponemos la creación del Centro de Ciencia de Datos de la Facultad de Ciencias Sociales – <strong>DATASOC</strong>, orietando a cerrar estas brechas mediante la instalación de una gobernanza de datos institucional efectiva; la construcción de un canal que facilite la transferencia de conocimiento al Estado y la sociedad civil; y abriendo un campo de desarrollo para la investigación y la formación en ciencias de datos sociales con proyección nacional. Este documento presenta un primer acercamiento al propósito general de DATASOC y a las potenciales líneas de acción del Centro.</p>
</section>
<section id="propósito" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="propósito"><span class="header-section-number">2</span> Propósito</h2>
<p><strong>DATASOC busca posicionar a la Facultad de Ciencias Sociales como un referente nacional en el desarrollo de las ciencias de datos sociales</strong>, articulando investigación, formación, gestión y consultoría en un único Centro de Ciencia de Datos Sociales que permita:</p>
<ol type="i">
<li><p><strong>Impulsar la investigación de punta</strong> en métodos avanzados y ciencias sociales computaciones.</p></li>
<li><p><strong>Promover la formación</strong> y la capacitación en metodologías de análisis y gestión de datos para estudiantes, académicos y funcionarios de la Facultad.</p></li>
<li><p><strong>Fortalecer la gobernanza de datos</strong> interna de la Facultad, promoviendo prácticas que estandaricen y optimicen procesos de gestión interna</p></li>
<li><p><strong>Proveer servicios de gestión, análisis y visualización de datos sociales</strong> de calidad y siguiendo los principios de la ciencia abierta para la academia, la ciudadanía y los tomadores de decisiones.</p></li>
</ol>
</section>
<section id="líneas-de-acción" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="líneas-de-acción"><span class="header-section-number">3</span> Líneas de acción</h2>
<section id="investigación" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="investigación"><span class="header-section-number">3.1</span> Investigación</h3>
<p>DATASOC se propone como un <strong>nodo para el desarrollo de investigación metodológica y metacientífica avanzada</strong>. Estas labores se encontrarán en el núcleo del trabajo de DATASOC, pues permitirán el despligue efectivo de las otras líneas de acción, otorgando insumos efectivos para la formación, la gestión interna de datos, y provisión de servicios de consultoría.</p>
<p>El desarrollo de líneas de investigación permitirá a DATASOC presentarse a fondos concursables externos e internos de la Universidad de Chile, constituyendose como una potencial fuente de financiamiento para el Centro.</p>
<p>Algunas líneas de investigación que podría albergar DATASOC incluyen:</p>
<ul>
<li><p>Investigación metodológica en el área de las <strong>ciencias sociales computacionales</strong>, con especial enfasis en el desarrollo de nuevas técnicas y tecnologías tales como la Inteligencia Artificial, el Machine Learning, el Agent-Based Modelling, la Big Data, el Procesamiento de Lenguaje Natural, entre otras.</p></li>
<li><p>Investigación vinculada a las áreas de la <strong>ciencia abierta, la metaciencia y la bibliometría</strong>. Particularmente, se propone utilizar los datos sobre proyectos de investigación postulados, adjudicados y no-adjudicados por académicos de la Facultad como un potencial objeto de estudio. En esta línea, la Dirección de Investigación y Publicaciones ha venido desarrollando la <strong>Unidad de Ciencia de Datos en Investigación – CINDAI</strong> que busca desarrollar un sistema local e integrado de gestión, producción y visualización de información científica en la Facultad.</p></li>
<li><p>A partir de los <strong>datos administrativos</strong> generados en las distintas unidades de la Facultad se podría abrir una tercera línea focalizada en <strong>Estudios sobre Instituciones de Educación Superior</strong>, en la intersección entre las sociologías de la educación y de las organizaciones.</p></li>
</ul>
</section>
<section id="formación" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="formación"><span class="header-section-number">3.2</span> Formación</h3>
<p>DATASOC será un un <strong>espacio clave en la formación y capacitación</strong> de estudiantes, académicos y funcionarios de la Facultad, así como de la población en general. De tal manera, el rol de DATASOC en cuanto a formación puede incluir:</p>
<ul>
<li><p><strong>Coordinación de académicos responsables de cursos metodológicos y de análisis de datos</strong> en carreras de pregrado y programas de postgrado con el fin de buscar lineamientos comunes en la formación a nivel de Facultad.</p></li>
<li><p>Dar espacio para integrar estudiantes de pre y postgrados como <strong>pasantes, prácticantes o tesistas</strong>.</p></li>
<li><p>Brindar <strong>cursos de capacitación</strong> a académicos y funcionarios en herramientas de ciencia de datos que les puedan ser útiles para sus labores en investigación, docencia y gestión.</p></li>
<li><p>Crear, junto a la Unidad de Educación Continua, una oferta de <strong>cursos de extensión</strong> orientados al público externo y que entreguen certificaciones en gestión y análisis de datos.</p></li>
</ul>
</section>
<section id="gestióncindai" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="gestióncindai"><span class="header-section-number">3.3</span> Gestión/CINDAI</h3>
<p>DATASOC tendrá un rol activo en la <strong>optimización de la gestión y la gobernanza de los datos producidos por distintas unidades de la Facultad</strong>. El desarrollo de CINDAI desde la Dirección de Investigación apunta también a este rol, creando un entorno de gobernanza de datos – incluyendo documentación técnica, metadatos estandarizados y flujo de trabajos claros - que garanticen la encontrabilidad, accesibilidad, interoperabilidad y reutilizabilidad de los datos almacenados. De esta manera, CINDAI apuesta a mejorar la capacidad de la Dirección de Investigación para reportar y visualizar indicadores importantes para la gestión de la Dirección.</p>
<p>Siguiendo este modo de trabajo, desde DATASOC se podrían generar instancias de consultoría a otras unidades de la Facultad que estén interesadas en mejorar la gestión de sus datos internos, o bien en la posibilidad de mantener plataformas de visualización dinámica que refleje indicadores claves para las unidades.</p>
</section>
<section id="consultoría" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="consultoría"><span class="header-section-number">3.4</span> Consultoría</h3>
<p>DATASOC oferecerá <strong>servicios de consultoría de alta calidad</strong> a lo largo del ciclo completo de investigación. Estos servicios estarían dirigidos tanto a público interno (académicos/as FACSO) como externo (tomadores de decisión, servicios públicos, actores de la sociedad civil)</p>
<ol type="i">
<li><p><strong>Diseño del estudio</strong>: asesoría en cuestionarios, escalas, muestreo e hipótesis con criterios de transparencia y reproducibilidad.</p></li>
<li><p><strong>Acceso a bases de datos</strong>: Dar recomendaciones de bases de datos secundarios disponibles acordes a los objetivos del estudio.</p></li>
<li><p><strong>Procesamiento y análisis de datos sociales</strong>: Generar reportes estadísticos y visualizaciones sobre problemas de investigación a partir del procesamiento de bases de datos nacionales (CASEN, INE, ELSOC, entre otras)</p></li>
<li><p><strong>Archivo y apertura</strong>: Dar orientación en el almacenamiento de datos y las condiciones en que esta puede ser compartida y reutilizada.</p></li>
</ol>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>